# Coven Matrix Bridge Configuration

[matrix]
# Matrix homeserver URL
homeserver = "https://matrix.org"

# Bot account credentials (use environment variables in production)
username = "@coven-bot:matrix.org"
password = "${MATRIX_PASSWORD}"

# Optional: E2EE recovery key for encrypted rooms
# recovery_key = "${MATRIX_RECOVERY_KEY}"

# Optional: Directory for Matrix state/crypto storage
# state_dir = "~/.local/share/coven-matrix-bridge"

[gateway]
# Coven gateway hostname
host = "localhost"

# Coven gateway gRPC port (default: 6666)
port = 6666

# Use TLS for gRPC connection (default: false, set true for production)
tls = false

# Authentication token (from coven-link or gateway admin)
token = "${COVEN_TOKEN}"

[bridge]
# Optional: Restrict to specific rooms (empty = allow all)
allowed_rooms = [
    # "!roomid:matrix.org",
]

# Optional: Restrict to specific Matrix users (empty = allow all)
allowed_senders = [
    # "@youruser:matrix.org",
    # "@trusted-friend:example.com",
]

# Optional: Only respond to messages with this prefix
# command_prefix = "!coven "

# Show typing indicator while agent is responding
typing_indicator = true
